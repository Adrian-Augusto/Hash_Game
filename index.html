<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <title>Hash </title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="gameContainer">
    <canvas id="gameCanvas"></canvas>

    <!-- Login / Welcome Screen -->
    <div id="loginScreen" class="screen">
      <div id="supportCenter">
        <div class="support-photo"></div>
        <div class="support-text">Apoiando o Projeto</div>
        <button class="copy-btn" id="copyPixBtn">Copiar chave PIX</button>
        <div id="copyFeedback" class="copy-feedback">Chave copiada!</div>
      </div>
      <div class="home-container" style="max-width: 820px; margin: 60px auto; background: rgba(20,20,40,0.95); border-radius: 18px; box-shadow: 0 0 32px #000a, 0 0 0 2px #222; padding: 36px 32px 32px 32px; display: flex; flex-direction: column; align-items: center;">
        <h1 class="game-title" style="font-size:2.5rem; color:#fff; margin-bottom: 8px; letter-spacing:2px;">Hash </h1>
        <p style="color:#aaa; font-size:1.1rem; margin-bottom: 28px;">Hash Multiplayer</p>
        <div style="width:100%; margin-bottom: 18px;">
          <label for="nickname" style="color:#fff; font-size:1.1rem; font-weight:500;">Nickname</label>
          <input type="text" id="nickname" placeholder="Digite seu nickname" maxlength="30" style="width:100%; margin-top:8px; padding:10px 14px; border-radius:8px; border:none; background:#23234a; color:#fff; font-size:1.1rem; outline:none; box-shadow:0 0 0 2px #333;" />
        </div>
        <div id="characterSelectContainer" style="width:100%; margin-bottom: 24px;">
          <h3 style="color:#fff; font-size:1.1rem; margin-bottom: 12px; text-align:center;">Escolha seu personagem</h3>
          <div id="characterSelectGrid" style="display: flex; justify-content: center; gap: 18px; flex-wrap: wrap;">
            <div class="character-option" data-char="roxo" style="display: flex; flex-direction: column; align-items: center; min-width:90px; padding:10px 0; border-radius:12px;">
              <div class="color-circle" data-char="roxo" style="width: 44px; height: 44px; border-radius: 50%; background: #a259ff; box-shadow: 0 0 12px #a259ff; margin-bottom: 6px; cursor:pointer; transition: box-shadow 0.2s, outline 0.2s;"></div>
              <span style="color:#a259ff; font-weight:bold; font-size:1.1rem;">Roxo</span>
              <span style="color:#fff; font-size:13px; margin-bottom:2px;">Padrão</span>
              <span style="color:#a259ff; font-size:12px;">Equilíbrio</span>
              <button class="select-char-btn" data-char="roxo" style="margin-top:6px; padding:4px 12px; border-radius:6px; border:none; background:#a259ff; color:#fff; font-weight:bold; cursor:pointer;">Selecionar</button>
            </div>
            <div class="character-option" data-char="verde" style="display: flex; flex-direction: column; align-items: center; min-width:90px; padding:10px 0; border-radius:12px;">
              <div class="color-circle" data-char="verde" style="width: 44px; height: 44px; border-radius: 50%; background: #00ff88; box-shadow: 0 0 12px #00ff88; margin-bottom: 6px; cursor:pointer; transition: box-shadow 0.2s, outline 0.2s;"></div>
              <span style="color:#00ff88; font-weight:bold; font-size:1.1rem;">Verde</span>
              <span style="color:#fff; font-size:13px; margin-bottom:2px;">Speed</span>
              <span style="color:#00ff88; font-size:12px;">+Velocidade</span>
              <button class="select-char-btn" data-char="verde" style="margin-top:6px; padding:4px 12px; border-radius:6px; border:none; background:#00ff88; color:#222; font-weight:bold; cursor:pointer;">Selecionar</button>
            </div>
            <div class="character-option" data-char="azul" style="display: flex; flex-direction: column; align-items: center; min-width:90px; padding:10px 0; border-radius:12px;">
              <div class="color-circle" data-char="azul" style="width: 44px; height: 44px; border-radius: 50%; background: #00bfff; box-shadow: 0 0 12px #00bfff; margin-bottom: 6px; cursor:pointer; transition: box-shadow 0.2s, outline 0.2s;"></div>
              <span style="color:#00bfff; font-weight:bold; font-size:1.1rem;">Azul</span>
              <span style="color:#fff; font-size:13px; margin-bottom:2px;">Stun</span>
              <span style="color:#00bfff; font-size:12px;">Atordoa inimigos</span>
              <button class="select-char-btn" data-char="azul" style="margin-top:6px; padding:4px 12px; border-radius:6px; border:none; background:#00bfff; color:#fff; font-weight:bold; cursor:pointer;">Selecionar</button>
            </div>
            <div class="character-option" data-char="amarelo" style="display: flex; flex-direction: column; align-items: center; min-width:90px; padding:10px 0; border-radius:12px;">
              <div class="color-circle" data-char="amarelo" style="width: 44px; height: 44px; border-radius: 50%; background: #ffe066; box-shadow: 0 0 12px #ffe066; margin-bottom: 6px; cursor:pointer; transition: box-shadow 0.2s, outline 0.2s;"></div>
              <span style="color:#ffe066; font-weight:bold; font-size:1.1rem;">Amarelo</span>
              <span style="color:#fff; font-size:13px; margin-bottom:2px;">Ganha uma % de pontos</span>
              <span style="color:#f7d82a; font-size:12px;">Ganha uma % de pontos </span>
              

              <button class="select-char-btn" data-char="amarelo" style="margin-top:6px; padding:4px 12px; border-radius:6px; border:none; background:#ffe066; color:#222; font-weight:bold; cursor:pointer;">Selecionar</button>
            </div>
            <div class="character-option" data-char="vermelho" style="display: flex; flex-direction: column; align-items: center; min-width:90px; padding:10px 0; border-radius:12px;">
              <div class="color-circle" data-char="vermelho" style="width: 44px; height: 44px; border-radius: 50%; background: #ff3b3b; box-shadow: 0 0 12px #ff3b3b; margin-bottom: 6px; cursor:pointer; transition: box-shadow 0.2s, outline 0.2s;"></div>
              <span style="color:#ff3b3b; font-weight:bold; font-size:1.1rem;">Vermelho</span>
              <span style="color:#fff; font-size:13px; margin-bottom:2px;">Ricochete</span>
              <span style="color:#ff3b3b; font-size:12px;">Joga inimigo longe da área </span>
              <button class="select-char-btn" data-char="vermelho" style="margin-top:6px; padding:4px 12px; border-radius:6px; border:none; background:#ff3b3b; color:#fff; font-weight:bold; cursor:pointer;">Selecionar</button>
            </div>
          </div>
        </div>
        <button id="startButton" class="start-button" style="width:100%; margin-top: 8px; padding:12px 0; font-size:1.2rem; border-radius:8px; background:linear-gradient(90deg,#a259ff,#00bfff); color:#fff; border:none; font-weight:bold; letter-spacing:1px; box-shadow:0 2px 12px #0008; cursor:pointer;">Iniciar Jogo</button>
        <div style="margin-top: 32px; width:100%;">
          <details style="color:#aaa;">
            <summary style="cursor:pointer; color:#fff; font-size:1.05rem;">Ver controles do jogo</summary>
            <div class="controls-grid" style="margin-top:10px; display:grid; grid-template-columns:1fr 1fr; gap:10px 18px;">
              <div class="control-item"><span class="key">W</span> <span>Avançar</span></div>
              <div class="control-item"><span class="key">SPACE</span> <span>Dash</span></div>
              <div class="control-item"><span class="key">MOUSE</span> <span>Atacar</span></div>
              <div class="control-item"><span class="key">Q</span> <span>Modo Ataque</span></div>
              <div class="control-item"><span class="key">E</span> <span>Escudo</span></div>
            </div>
          </details>
        </div>
        <div style="margin-top: 16px; text-align: center;">
          <a href="https://discord.gg/By6h7vEc" target="_blank" rel="noopener">
            <img src="Img/discord-icon.jpg" alt="Discord" style="width:48px; height:48px; vertical-align:middle;">
            <span style="font-size: 16px; color: #5865F2; margin-left: 8px;">Entrar no grupo do Discord</span>
          </a>
        </div>
      </div>
    </div>

    <!-- Game Over Screen -->
    <div id="gameOverScreen" class="screen">
      <div class="game-over-container">
        <h2>Game Over</h2>
        <div class="final-score">Score: <span id="finalScore">0</span></div>
        <div class="high-scores">
          <h3>High Scores</h3>
          <div id="highScoresList"></div>
        </div>
        <button id="restartButton" class="play-again-button">Play Again</button>
      </div>
    </div>

    <!-- Loading Screen -->
    <div id="loadingScreen" class="screen">
      <div class="loading-container">
        <div class="loading-spinner"></div>
        <div class="loading-text">Loading Game...</div>
      </div>
    </div>

    <!-- Game UI -->
    <div class="game-ui">
      <div class="top-panel">
        <div id="scoreDisplay">Score: 0</div>
      </div>
      <div class="right-panel">
        <div id="bulletInfo">
          <span>Bullets:</span>
          <span id="bulletCount">5</span>
          <div id="bulletCooldown" class="cooldown-bar">
            <div class="cooldown-progress"></div>
          </div>
        </div>
        <div id="shieldInfo">
          <span>Shield:</span>
          <span id="shieldStatus">Ready</span>
          <div id="shieldCooldown" class="cooldown-bar">
            <div class="cooldown-progress"></div>
          </div>
        </div>
        <div id="ultimateInfo">
          <span>Ultimate:</span>
          <span id="ultimateStatus">Ready</span>
          <div id="ultimateCooldown" class="cooldown-bar">
            <div class="cooldown-progress"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Remover suporte fora do menu -->
    <div id="supportCenter" style="display:none"></div>
  </div>
  <style>
    #characterSelectGrid .color-circle.selected {
      outline: 4px solid #fff !important;
      box-shadow: 0 0 24px #fff, 0 0 18px var(--char-color, #fff) !important;
      background: rgba(255,255,255,0.18) !important;
      transition: box-shadow 0.2s, outline 0.2s, background 0.2s;
    }
    .select-char-btn {
      z-index: 2;
      position: relative;
      pointer-events: auto !important;
      opacity: 0.7;
      transition: opacity 0.2s, border 0.2s;
    }
    .select-char-btn:active, .select-char-btn:focus {
      outline: 2px solid #fff;
      opacity: 1;
    }
    .character-option {
      position: relative;
      z-index: 1;
    }
    #supportSidebar { display: none !important; }
    #supportCenter {
  position: fixed;
  top: 50%;
  right: 40px;
  transform: translateY(-50%);
  width: 340px;
  
  background: rgba(20, 20, 40, 0.97);
  border-radius: 22px;
  box-shadow: 0 0 32px #000a, 0 0 0 2px #222;
  
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 38px 24px 30px 24px;
  
  z-index: 1000; /* Melhor usar 1000 para garantir que fique acima */
}

    #supportCenter .support-photo {
      width: 140px;
      height: 140px;
      border-radius: 50%;
      background: url('Img/big-smile-of-gon-igkmrci2nxaruqdh.jpg') center/cover no-repeat;
      border: 6px solid #fafafa;
      margin-bottom: 28px;
      box-shadow: 0 0 28px #a259ff55;
      background-position: center;
    }
    #supportCenter .support-text {
      color: #fff;
      font-size: 2rem;
      font-weight: bold;
      margin-bottom: 28px;
      text-align: center;
      letter-spacing: 1.5px;
    }
    #supportCenter .donate-btn {
      display: inline-block;
      background: linear-gradient(90deg,#a259ff,#00bfff);
      color: #fff;
      font-weight: bold;
      padding: 18px 48px;
      border-radius: 12px;
      text-decoration: none;
      font-size: 1.4rem;
      box-shadow: 0 2px 18px #0008;
      transition: background 0.2s, box-shadow 0.2s;
    }
    #supportCenter .donate-btn:hover {
      background: linear-gradient(90deg,#00bfff,#a259ff);
      box-shadow: 0 4px 28px #00bfff88;
    }
    @media (max-width: 900px) {
      #supportCenter { right: 10px; width: 95vw; padding: 18px 4vw; }
    }
    .pix-info-box {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: rgba(20,20,40,0.97);
      border-radius: 18px;
      box-shadow: 0 0 18px #000a, 0 0 0 2px #222;
      padding: 24px 18px 18px 18px;
      margin: 0 auto;
      max-width: 340px;
    }
    .pix-info-box .pix-img {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      object-fit: cover;
      border: 3px solid #a259ff;
      box-shadow: 0 0 12px #a259ff55;
      margin-bottom: 14px;
    }
    .pix-info-box .pix-key-label {
      color: #a259ff;
      font-size: 1.1rem;
      font-weight: bold;
      margin-bottom: 6px;
    }
    .pix-info-box .pix-key-box {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      margin-bottom: 10px;
    }
    .pix-info-box .pix-key {
      color: #fff;
      font-size: 0.95rem;
      font-weight: bold;
      background: #23234a;
      border-radius: 8px;
      padding: 6px 10px;
      letter-spacing: 0.5px;
      max-width: 180px;
      overflow-x: auto;
      white-space: nowrap;
      display: inline-block;
    }
    .pix-info-box .copy-btn {
      background: linear-gradient(90deg,#a259ff,#00bfff);
      color: #fff;
      border: none;
      border-radius: 6px;
      font-size: 0.95rem;
      font-weight: bold;
      padding: 6px 16px;
      cursor: pointer;
      transition: background 0.2s, box-shadow 0.2s;
      box-shadow: 0 2px 8px #0004;
    }
    .pix-info-box .copy-btn:hover {
      background: linear-gradient(90deg,#00bfff,#a259ff);
    }
    .pix-info-box .copy-feedback {
      display: none;
      color: #00ff88;
      font-size: 1rem;
      margin-top: 6px;
    }
    .copy-btn {
      background: linear-gradient(90deg,#a259ff,#00bfff);
      color: #fff;
      border: none;
      border-radius: 8px;
      font-size: 1.1rem;
      font-weight: bold;
      padding: 14px 36px;
      cursor: pointer;
      margin-top: 18px;
      transition: background 0.2s, box-shadow 0.2s;
      box-shadow: 0 2px 12px #0008;
    }
    .copy-btn:hover {
      background: linear-gradient(90deg,#00bfff,#a259ff);
    }
    .copy-feedback {
      display: none;
      color: #00ff88;
      font-size: 1.1rem;
      margin-top: 12px;
      font-weight: bold;
    }
  </style>
  <script src="/socket.io/socket.io.js"></script>
  <script src="jogo.js"></script>
  <script>
const characterData = {
  roxo:   { color: "#a259ff", effect: "Equilíbrio", attr: "Padrão" },
  verde:  { color: "#00ff88", effect: "+Velocidade", attr: "Speed" },
  azul:   { color: "#00bfff", effect: "Atordoa inimigos", attr: "Stun" },
  amarelo:{ color: "#ffe066", effect: "Dano ao longo do tempo", attr: "Queimadura" },
  vermelho:{ color: "#ff3b3b", effect: "Dano em área", attr: "Explosão" }
};

let selectedChar = localStorage.getItem('selectedChar') || 'roxo';

function updateCharSelection() {
  document.querySelectorAll('#characterSelectGrid .color-circle').forEach(circle => {
    if(circle.dataset.char === selectedChar) {
      circle.classList.add('selected');
      circle.style.outline = '4px solid #fff';
      circle.style.boxShadow = '0 0 24px #fff, 0 0 18px ' + characterData[selectedChar].color;
      circle.style.background = characterData[selectedChar].color;
    } else {
      circle.classList.remove('selected');
      circle.style.outline = '';
      circle.style.boxShadow = '';
      circle.style.background = circle.style.backgroundColor;
    }
  });
  document.querySelectorAll('.select-char-btn').forEach(btn => {
    if(btn.dataset.char === selectedChar) {
      btn.textContent = 'Selecionado';
      btn.style.opacity = '1';
      btn.style.border = '2px solid #fff';
    } else {
      btn.textContent = 'Selecionar';
      btn.style.opacity = '0.7';
      btn.style.border = 'none';
    }
  });
}

document.querySelectorAll('.select-char-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    selectedChar = btn.dataset.char;
    localStorage.setItem('selectedChar', selectedChar);
    updateCharSelection();
  });
});
updateCharSelection();

// Expor para main.js SEMPRE o valor atualizado
window.getSelectedCharacter = function() { return characterData[selectedChar]; };
window.getSelectedCharKey = function() { return selectedChar; };

const pixKeyValue = '00020101021126940014br.gov.bcb.pix0136537aa340-66fc-469a-8d05-d9445f75112f0232Estara ajudando projeto expandir5204000053039865802BR5923ADRIAN AUGUSTO DA SILVA6013SALTO DO ITAR62070503***63042E8E';
document.getElementById('copyPixBtn').addEventListener('click', function() {
  navigator.clipboard.writeText(pixKeyValue).then(function() {
    const feedback = document.getElementById('copyFeedback');
    feedback.style.display = 'block';
    setTimeout(function(){ feedback.style.display = 'none'; }, 1500);
  });
});
  </script>
</body>
</html>
